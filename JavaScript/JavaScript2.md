## ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«

  > å…·ä½“[çŒ›æˆ³è¿™é‡Œ](<https://www.jianshu.com/p/eca50cc933b7>)

  1. ä¸ç»‘å®šthisï¼Œç®­å¤´å‡½æ•°ä¼šæ•è·å…¶æ‰€åœ¨ä¸Šä¸‹æ–‡çš„thisçš„å€¼
  2. ä½¿ç”¨ call æˆ– apply å¯¹thisæ²¡æœ‰å½±å“
  3. ä¸ç»‘å®šargumentsï¼Œå–è€Œä»£ä¹‹ç”¨restå‚æ•° ... è§£å†³
  4. ä¸èƒ½ä½¿ç”¨ new æ“ä½œç¬¦
  5. æ²¡æœ‰åŸå‹å±æ€§
  6. ä¸èƒ½ç®€å•è¿”å›å¯¹è±¡å­—é¢é‡
  7. ç®­å¤´å‡½æ•°åœ¨å‚æ•°å’Œç®­å¤´ä¹‹é—´ä¸èƒ½æ¢è¡Œ
     
## Set å’Œ WeakSet çš„åŒºåˆ«

Setç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯**æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„**ï¼Œæ²¡æœ‰é‡å¤ã€‚Setæœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”ŸæˆSetæ•°æ®ç»“æ„ã€‚

WeakSetçš„æˆå‘˜åªèƒ½æ˜¯å¯¹è±¡ï¼Œè€Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹çš„å€¼ï¼›

WeakSetä¸­çš„å¯¹è±¡éƒ½æ˜¯**å¼±å¼•ç”¨**ï¼Œå³åƒåœ¾å›æ”¶æœºåˆ¶ä¸è€ƒè™‘WeakSetå¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå…¶ä»–å¯¹è±¡éƒ½ä¸å†å¼•ç”¨è¯¥å¯¹è±¡ï¼Œé‚£ä¹ˆåƒåœ¾å›æ”¶æœºåˆ¶ä¼šè‡ªåŠ¨å›æ”¶è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ï¼Œä¸è€ƒè™‘è¯¥å¯¹è±¡æ˜¯å¦è¿˜å­˜åœ¨äºWeakSetä¹‹ä¸­ã€‚

WeakSetçš„æˆå‘˜æ˜¯ä¸é€‚åˆå¼•ç”¨çš„ï¼Œå› ä¸ºå®ƒä¼šéšæ—¶æ¶ˆå¤±ã€‚å¦å¤–ï¼ŒWeakSetå†…éƒ¨æœ‰å¤šå°‘ä¸ªæˆå‘˜å–å†³äºåƒåœ¾å›æ”¶æœºåˆ¶æœ‰æ²¡æœ‰è¿è¡Œï¼Œè¿è¡Œå‰åå¾ˆå¯èƒ½æˆå‘˜ä¸ªæ•°æ˜¯ä¸ä¸€æ ·çš„ï¼Œè€Œåƒåœ¾å›æ”¶æœºåˆ¶ä½•æ—¶è¿è¡Œæ˜¯ä¸å¯é¢„æµ‹çš„ï¼Œå› æ­¤ES6è§„å®š**WeakSetä¸å¯éå†**ã€‚

## Map å’Œ WeakMap çš„åŒºåˆ«

Mapå¯¹è±¡æ˜¯ä¸€ä¸ªç®€å•çš„é”®/å€¼æ˜ å°„ã€‚ä»»ä½•å€¼éƒ½ï¼ˆåŒ…æ‹¬å¯¹è±¡å’ŒåŸå§‹å€¼ï¼‰å¯ä»¥ç”¨ä½œä¸€ä¸ªé”®æˆ–è€…ä¸€ä¸ªå€¼ã€‚

WeakMapåªæ¥å—å¯¹è±¡ä½œä¸ºé”®åï¼ˆnullé™¤å¤–ï¼‰ï¼Œä¸æ¥å—å…¶ä»–ç±»å‹çš„å€¼ä½œä¸ºé”®åã€‚

WeakMapçš„é”®åæ˜¯å¯¹è±¡çš„**å¼±å¼•ç”¨**ï¼Œé”®åæ‰€æŒ‡å‘çš„å¯¹è±¡ä¸è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶ã€‚

å…¸å‹çš„åº”ç”¨æ˜¯ï¼Œä¸€ä¸ªå¯¹åº”çš„DOMå…ƒç´ çš„WeakMapç»“æ„ï¼Œå½“æŸä¸ªDOMå…ƒç´ è¢«æ¸…é™¤ï¼Œå…¶æ‰€å¯¹åº”çš„WeakMapè®°å½•å°±ä¼šè‡ªåŠ¨è¢«ç§»é™¤ã€‚åŸºæœ¬ä¸Šï¼ŒWeakMapçš„ä¸“ç”¨åœºåˆå°±æ˜¯ï¼Œå®ƒçš„é”®æ‰€å¯¹åº”çš„å¯¹è±¡ï¼Œå¯èƒ½ä¼šåœ¨å°†æ¥æ¶ˆå¤±ã€‚**WeakMapç»“æ„æœ‰åŠ©äºé˜²æ­¢å†…å­˜æ³„æ¼**ã€‚

## undefined ä¸ null çš„åŒºåˆ«

**undefined**çš„è¯­ä¹‰æ˜¯è¡¨ç¤ºä¸€ä¸ªå˜é‡è‡ªç„¶çš„ã€æœ€åŸå§‹çš„çŠ¶æ€å€¼ï¼Œè€Œéäººä¸ºæ“ä½œçš„ç»“æœã€‚è¿™ç§åŸå§‹çŠ¶æ€ä¼šåœ¨ä»¥ä¸‹4ä¸­æƒ…æ™¯ä¸­å‡ºç°ï¼š

1. å£°æ˜äº†ä¸€ä¸ªå˜é‡ï¼Œä½†æ²¡æœ‰èµ‹å€¼
2. è®¿é—®å¯¹è±¡ä¸Šä¸å­˜åœ¨çš„å±æ€§
3. å‡½æ•°å®šä¹‰äº†å½¢å‚ï¼Œä½†æ²¡æœ‰ä¼ é€’å®å‚
4. ä½¿ç”¨voidå¯¹ä»»ä½•è¡¨è¾¾å¼æ±‚å€¼

**null**è¡¨ç¤ºä¸€ä¸ªå˜é‡è¢«äººä¸ºçš„è®¾ç½®ä¸ºç©ºå¯¹è±¡ï¼Œè€Œä¸æ˜¯åŸå§‹çŠ¶æ€ã€‚åœ¨å†…å­˜é‡Œçš„è¡¨ç¤ºå°±æ˜¯ï¼Œæ ˆä¸­çš„å˜é‡æ²¡æœ‰æŒ‡å‘å †ä¸­çš„å†…å­˜å¯¹è±¡ã€‚

æ‰€ä»¥åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†ä¿è¯å˜é‡æ‰€ä»£è¡¨çš„çš„è¯­ä¹‰ï¼Œä¸è¦å¯¹ä¸€ä¸ªå˜é‡æ˜¾å¼çš„èµ‹å€¼ä¸ºundefinedï¼Œå½“éœ€è¦é‡Šæ”¾ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œç›´æ¥èµ‹å€¼ä¸ºnullå³å¯ã€‚

## ä¸ºä»€ä¹ˆtypeof nullè¿”å›"object"

åŸç†æ˜¯ä¸åŒçš„å¯¹è±¡åœ¨åº•å±‚éƒ½è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶ï¼Œåœ¨Javascriptä¸­**äºŒè¿›åˆ¶å‰ä¸‰ä½éƒ½ä¸º0çš„è¯ä¼šè¢«åˆ¤æ–­ä¸ºObjectç±»å‹**ï¼Œnullçš„äºŒè¿›åˆ¶è¡¨ç¤ºå…¨ä¸º0ï¼Œè‡ªç„¶å‰ä¸‰ä½ä¹Ÿæ˜¯0ï¼Œæ‰€ä»¥æ‰§è¡Œtypeofæ—¶ä¼šè¿”å›"object"ã€‚

## å‰ç«¯è·¯ç”±å®ç°åŸç†

[çŒ›æˆ³æˆ‘](https://github.com/SanQiG/Front-End-Summary/blob/master/JavaScript/%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC%E5%8E%9F%E7%90%86.md)

## å‡å€¼åˆ—è¡¨æœ‰å“ªäº›ï¼Ÿ

- `undefined`
- `null`
- `NaN`
- `0`
- `false`
- `''`

## æƒ…æ™¯åˆ†æé¢˜ï¼šå¥½æ¯”è¯´ä½ ä»åç«¯æ‹¿åˆ°äº†ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„åµŒå¥—å±‚çº§å¾ˆæ·±ï¼ˆå¯èƒ½è¦a.b.c.d.e.f.gï¼‰è¿™æ ·å¼•ç”¨ã€‚ä½†æ˜¯ä¼ è¾“è¿‡ç¨‹ä¸­å¯¹è±¡å¯èƒ½ä¼šæŸåï¼Œå¯èƒ½a.bçš„å±æ€§cä¸è§äº†ï¼ˆå˜æˆundefinedäº†ï¼‰ã€‚ä½†å¦‚æœè¿˜æ˜¯åƒä¸Šé¢è¿™æ ·å¼•ç”¨ï¼Œå°±ä¼šå˜æˆå‘undefinedè¯·æ±‚å±æ€§ï¼Œä»è€ŒæŠ¥é”™ã€‚

> è¦æ±‚ï¼š
> ä¸èƒ½æŠ¥é”™ï¼Œä½†æ˜¯éœ€è¦çŸ¥é“å¼•ç”¨é“¾ä»å“ªé‡Œæ–­å¼€çš„ï¼ˆä¸Šä¾‹å°±æ˜¯a.b.cï¼‰
> å¦‚æœå¼•ç”¨é“¾æ–­å¼€äº†ï¼Œä»è€Œæ²¡æœ‰æ‹¿åˆ°çœŸå®çš„å€¼ï¼Œè¯·ç»™å‡ºä¸€ä¸ªé»˜è®¤å€¼

- æ–¹æ³•ä¸€ï¼šåˆ©ç”¨try...catchçš„æŠ¥é”™ä¿¡æ¯

```javascript
function getValueByPath(obj, path) {
	try {
		return (new Function('obj', `return obj.${path}`))(obj);
	} catch (error) {
		error = '' + error;
		let idx1 = error.indexOf("'");
		let idx2 = error.indexOf("'", idx1 + 1);
		
		let brokenString = error.substring(idx1 + 1, idx2);
		let brokenIdx = path.indexOf(brokenString);

		console.log(`chain was broken at obj.${path.substring(0, brokenIdx - 1)}`);
		return undefined;
	}
}
```

- æ–¹æ³•äºŒ

```javascript
function getValueByPath(obj, path) {
	var names = path.split('.');
	
	var o = obj;
	var tmpStr = "obj";

	for (var i = 0; i < names.length; ++i) {
		o = o[names[i]];
		tmpStr += `.${names[i]}`;
		if (typeof o === "undefined") {
			console.log(`chain was broken at ${tmpStr}`);
			return undefined;
		}
	}
	return o;
}
```

- æ–¹æ³•ä¸‰

```javascript
function getValueByPath(obj, path) {
	var reg = /(?:^|\.)(\w+)/g;
	var names = [];
	var name = null;
	while((name = reg.exec(path)) != null) {
		names.push(name[1]);
	}

	var o = obj;
	var tmpStr = "obj";

	for (var i = 0; i < names.length; ++i) {
		o = o[names[i]];
		tmpStr += `.${names[i]}`;
		if (typeof o === "undefined") {
			console.log(`chain was broken at ${tmpStr}`);
			return undefined;
		}
	}
	return o;
}
```

## è·å–bodyé‡Œçš„æ ‡ç­¾ä¸ªæ•°

```javascript
document.body.getElementsByTagName("*").length;
```

## è·å¾—æ ‡ç­¾é‡Œçš„æ–¹æ³•
```javascript
let target = document.querySelector('div');
for (let key in target) {
	if (/^on\w+/.test(key) && target[key] !== null) {
		console.log(target[key]);
	}
}
```

## å‰ç«¯æ¸²æŸ“å’Œåç«¯æ¸²æŸ“çš„åŒºåˆ«

> ğŸ”[ç‚¹å‡»è¿™é‡Œ](https://www.manster.me/?p=473)

å‰ç«¯æ¸²æŸ“ï¼šåç«¯çš„HTMLé¡µé¢ä½œä¸ºé™æ€æ–‡ä»¶å­˜åœ¨ï¼Œå‰ç«¯è¯·æ±‚æ—¶åç«¯ä¸å¯¹è¯¥æ–‡ä»¶åšä»»ä½•å†…å®¹ä¸Šçš„ä¿®æ”¹ï¼Œç›´æ¥ä»¥èµ„æºçš„æ–¹å¼è¿”å›ç»™å‰ç«¯ï¼Œå‰ç«¯æ‹¿åˆ°é¡µé¢åï¼Œæ ¹æ®å†™åœ¨HTMLé¡µé¢ä¸Šçš„jsä»£ç ï¼Œå¯¹è¯¥HTMLå†…å®¹è¿›è¡Œä¿®æ”¹ã€‚

åç«¯æ¸²æŸ“ï¼šåç«¯çš„ç¨‹åºåœ¨æŠŠHTMLåç»™å‰ç«¯ä¹‹å‰ï¼Œå…ˆæŠŠHTMLé¡µé¢ä¸Šçš„ç‰¹å®šåŒºåŸŸï¼Œç‰¹å®šç¬¦å·ï¼Œç»™ç”¨æ•°æ®å¡«å……è¿‡ï¼Œå†æ‰”ç»™å‰ç«¯ï¼Œè¿™å°±æ˜¯åç«¯æ¸²æŸ“ã€‚

å‰åç«¯æ¸²æŸ“æœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯å­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Œå°†æ•°æ®æ¸²æŸ“è¿›ä¸€äº›å›ºå®šæ ¼å¼çš„HTMLä»£ç ä¸­å½¢æˆæœ€ç»ˆçš„HTMLå±•ç¤ºåœ¨ç”¨æˆ·é¡µé¢ä¸Šã€‚

## XMLå’ŒJSONçš„åŒºåˆ«

- è§£ç éš¾åº¦ï¼šJSONçš„è§£ç éš¾åº¦è¿œå°äºXML
- æ•°æ®ä½“ç§¯ï¼šJSONæ•°æ®ä½“ç§¯å°ï¼Œä¼ é€’çš„é€Ÿåº¦æ¯”è¾ƒå¿«
- æ•°æ®äº¤äº’ï¼šJSONä¸JavaScriptäº¤äº’æ›´åŠ æ–¹ä¾¿ï¼Œæ›´å®¹æ˜“è§£æå¤„ç†
- æ•°æ®æè¿°ï¼šXMLå¯¹æ•°æ®çš„æè¿°æ€§æ›´å¥½
- ä¼ è¾“é€Ÿåº¦ï¼šJSONé€Ÿåº¦è¿œè¿œå¿«äºXML

## Ajaxçš„ä¼˜ç¼ºç‚¹

> ğŸ”[ç‚¹å‡»è¿™é‡Œ](https://www.cnblogs.com/SanMaoSpace/archive/2013/06/15/3137180.html)

**ä¼˜ç‚¹**

1. æ— åˆ·æ–°æ›´æ–°æ•°æ®
2. å¼‚æ­¥ä¸æœåŠ¡å™¨é€šä¿¡
3. å‰ç«¯å’Œåç«¯è´Ÿè½½å‡è¡¡
4. åŸºäºæ ‡å‡†è¢«å¹¿æ³›æ”¯æŒ
5. ç•Œé¢ä¸åº”ç”¨åˆ†ç¦»

**ç¼ºç‚¹**

1. Ajaxå¹²æ‰äº†Backå’ŒHistoryåŠŸèƒ½ï¼Œå³å¯¹æµè§ˆå™¨æœºåˆ¶çš„ç ´å
2. Ajaxçš„å®‰å…¨é—®é¢˜
3. å¯¹æœç´¢å¼•æ“æ”¯æŒè¾ƒå¼±
4. ç ´åç¨‹åºçš„å¼‚å¸¸å¤„ç†æœºåˆ¶
5. è¿èƒŒURLå’Œèµ„æºå®šä½çš„åˆè¡·
6. Ajaxä¸èƒ½å¾ˆå¥½æ”¯æŒç§»åŠ¨è®¾å¤‡
7. å®¢æˆ·ç«¯è¿‡è‚¥ï¼Œå¤ªå¤šå®¢æˆ·ç«¯ä»£ç é€ æˆå¼€å‘ä¸Šçš„æˆæœ¬

## Ajaxå¦‚ä½•æºå¸¦cookieï¼Ÿ

```javascript
var xhr = new XMLHttpRequest();
xhr.open("POST", "http://xxx.com/xxx", true);
xhr.withCredentials = true;  // æ”¯æŒè·¨åŸŸå‘é€cookies
xhr.send();
```

## Proxy æ¯” `Object.defineProperty()` å¥½åœ¨å“ªå„¿ï¼Ÿ

Proxyå¯ä»¥ç›‘å¬å¯¹è±¡èº«ä¸Šå‘ç”Ÿäº†ä»€ä¹ˆï¼Œå¹¶åœ¨è¿™äº›äº‹æƒ…å‘ç”Ÿåæ‰§è¡Œä¸€äº›ç›¸åº”çš„æ“ä½œã€‚ä¸€ä¸‹å­è®©æˆ‘ä»¬å¯¹ä¸€ä¸ªå¯¹è±¡æœ‰äº†å¾ˆå¼ºçš„è¿½è¸ªèƒ½åŠ›ï¼ŒåŒæ—¶åœ¨æ•°æ®ç»‘å®šæ–¹é¢ä¹Ÿå¾ˆæœ‰ç”¨å¤„ã€‚

1. Proxyå¯ä»¥ç›´æ¥ç›‘å¬å¯¹è±¡è€Œéå±æ€§

2. Proxyå¯ä»¥ç›´æ¥ç›‘å¬æ•°ç»„çš„å˜åŒ–

3. Proxyæœ‰å¤šè¾¾13ç§æ‹¦æˆªæ–¹æ³•ï¼Œapplyã€ownKeysã€deletePropertyã€hasç­‰ç­‰æ˜¯`Object.defineProperty()`ä¸å…·å¤‡çš„

4. Proxyè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥åªæ“ä½œæ–°çš„å¯¹è±¡è¾¾åˆ°ç›®çš„ï¼Œè€Œ`Object.defineProperty()`åªèƒ½éå†å¯¹è±¡å±æ€§ç›´æ¥ä¿®æ”¹

5. Proxyä½œä¸ºæ–°æ ‡å‡†å°†å—åˆ°æµè§ˆå™¨å‚å•†é‡ç‚¹æŒç»­çš„æ€§èƒ½ä¼˜åŒ–ï¼Œä¹Ÿå°±æ˜¯ä¼ è¯´ä¸­çš„æ–°æ ‡å‡†çš„æ€§èƒ½çº¢åˆ©

6. Proxyçš„ç¼ºç‚¹å°±æ˜¯å…¼å®¹æ€§é—®é¢˜
